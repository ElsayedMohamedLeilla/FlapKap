[2025-07-11 16:28:28 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-07-11 16:28:29 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 16:28:29 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 16:28:29 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 16:28:29 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 16:28:29 INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2025-07-11 16:28:29 INF] No migrations were applied. The database is already up to date.
[2025-07-11 16:28:29 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 16:28:29 WRN] The WebRootPath was not found: D:\Temp\FlapKap Task\FlapKap.API\wwwroot. Static files may be unavailable.
[2025-07-11 16:28:29 INF] Application started. Press Ctrl+C to shut down.
[2025-07-11 16:28:29 INF] Hosting environment: Development
[2025-07-11 16:28:29 INF] Content root path: D:\Temp\FlapKap Task\FlapKap.API
[2025-07-11 16:29:28 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-07-11 16:29:28 INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 16:29:28 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 16:29:28 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 16:29:28 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 16:29:28 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2025-07-11 16:29:28 INF] No migrations were applied. The database is already up to date.
[2025-07-11 16:29:28 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 16:29:29 WRN] The WebRootPath was not found: D:\Temp\FlapKap Task\FlapKap.API\wwwroot. Static files may be unavailable.
[2025-07-11 16:29:29 INF] Application started. Press Ctrl+C to shut down.
[2025-07-11 16:29:29 INF] Hosting environment: Development
[2025-07-11 16:29:29 INF] Content root path: D:\Temp\FlapKap Task\FlapKap.API
[2025-07-11 16:29:35 INF] Executed DbCommand (34ms) [Parameters=[@__p_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[Id] = @__p_0
[2025-07-11 16:29:35 INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT [r].[Name]
FROM [FlapKap].[UserRoles] AS [u]
INNER JOIN [FlapKap].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
[2025-07-11 16:29:35 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 16:29:35 INF] Executed DbCommand (4ms) [Parameters=[@p1='1', @p2='bf45340a-0596-4700-a418-aed84f4a3fe2' (Size = 4000), @p0='239.00000000000000000000' (Nullable = true) (Precision = 30) (Scale = 20)], CommandType='"Text"', CommandTimeout='60']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [FlapKap].[MyUsers] SET [Deposit] = @p0
OUTPUT 1
WHERE [Id] = @p1 AND [ConcurrencyStamp] = @p2;
[2025-07-11 16:29:35 INF] User 1 deposited 50 cents
[2025-07-11 16:33:38 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-07-11 16:33:38 INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 16:33:38 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 16:33:38 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 16:33:38 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 16:33:38 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2025-07-11 16:33:38 INF] No migrations were applied. The database is already up to date.
[2025-07-11 16:33:39 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 16:33:39 WRN] The WebRootPath was not found: D:\Temp\FlapKap Task\FlapKap.API\wwwroot. Static files may be unavailable.
[2025-07-11 16:33:39 INF] Application started. Press Ctrl+C to shut down.
[2025-07-11 16:33:39 INF] Hosting environment: Development
[2025-07-11 16:33:39 INF] Content root path: D:\Temp\FlapKap Task\FlapKap.API
[2025-07-11 16:33:39 INF] Executed DbCommand (34ms) [Parameters=[@__model_UserName_0='TestSeller2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[MyUsers] AS [m]
        WHERE [m].[UserName] = @__model_UserName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 16:33:40 INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='TESTSELLER2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 16:33:40 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='TESTSELLER2@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 16:33:40 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 16:33:40 INF] Executed DbCommand (5ms) [Parameters=[@p0='0', @p1=NULL (DbType = Int32), @p2='168380a1-2cae-4aa3-b99b-c6ed7b72262f' (Size = 4000), @p3=NULL (DbType = DateTime2), @p4=NULL (Precision = 30) (Scale = 20) (DbType = Decimal), @p5='TestSeller2@flapkap.com' (Size = 256), @p6='True', @p7='True', @p8='False', @p9='True', @p10=NULL (DbType = DateTimeOffset), @p11=NULL (DbType = DateTime2), @p12=NULL (DbType = Int32), @p13=NULL (Size = 4000), @p14='TESTSELLER2@FLAPKAP.COM' (Size = 256), @p15='TESTSELLER2' (Size = 256), @p16='AQAAAAIAAYagAAAAEKOeOqQlG37ZPjJTpakVYXGDsjPZrBEqQ5nn3r0azw9GYG0AJ/RJDDcCC8Fpd9y82A==' (Size = 4000), @p17=NULL (Size = 4000), @p18='True', @p19='YMKREZTD3XYGZIIM3ADIYVG7VXRHOIZA' (Size = 4000), @p20='False', @p21='TestSeller2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [FlapKap].[MyUsers] ([AccessFailedCount], [AddUserId], [ConcurrencyStamp], [DeletionDate], [Deposit], [Email], [EmailConfirmed], [IsActive], [IsDeleted], [LockoutEnabled], [LockoutEnd], [ModifiedDate], [ModifyUserId], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id], INSERTED.[AddedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
[2025-07-11 16:33:40 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:40 INF] Executed DbCommand (3ms) [Parameters=[@__p_0='6', @__p_1='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [FlapKap].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
[2025-07-11 16:33:40 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:40 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='TESTSELLER2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 16:33:40 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='TESTSELLER2@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 16:33:41 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 16:33:41 INF] Executed DbCommand (14ms) [Parameters=[@p23='6', @p0='0', @p1=NULL (DbType = Int32), @p2='2025-07-11T16:33:40.4833333', @p3='d2db6738-2b92-4396-a421-ba3ed2ee1b9f' (Size = 4000), @p24='168380a1-2cae-4aa3-b99b-c6ed7b72262f' (Size = 4000), @p4=NULL (DbType = DateTime2), @p5=NULL (Precision = 30) (Scale = 20) (DbType = Decimal), @p6='TestSeller2@flapkap.com' (Size = 256), @p7='True', @p8='True', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12=NULL (DbType = DateTime2), @p13=NULL (DbType = Int32), @p14=NULL (Size = 4000), @p15='TESTSELLER2@FLAPKAP.COM' (Size = 256), @p16='TESTSELLER2' (Size = 256), @p17='AQAAAAIAAYagAAAAEKOeOqQlG37ZPjJTpakVYXGDsjPZrBEqQ5nn3r0azw9GYG0AJ/RJDDcCC8Fpd9y82A==' (Size = 4000), @p18=NULL (Size = 4000), @p19='True', @p20='YMKREZTD3XYGZIIM3ADIYVG7VXRHOIZA' (Size = 4000), @p21='False', @p22='TestSeller2' (Size = 256), @p25='1', @p26='6'], CommandType='"Text"', CommandTimeout='60']
SET NOCOUNT ON;
UPDATE [FlapKap].[MyUsers] SET [AccessFailedCount] = @p0, [AddUserId] = @p1, [AddedDate] = @p2, [ConcurrencyStamp] = @p3, [DeletionDate] = @p4, [Deposit] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [IsDeleted] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedDate] = @p12, [ModifyUserId] = @p13, [Name] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
INSERT INTO [FlapKap].[UserRoles] ([RoleId], [UserId])
VALUES (@p25, @p26);
[2025-07-11 16:33:41 INF] user 6 added
[2025-07-11 16:33:58 INF] Executed DbCommand (3ms) [Parameters=[@__p_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[Id] = @__p_0
[2025-07-11 16:33:58 INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT [r].[Name]
FROM [FlapKap].[UserRoles] AS [u]
INNER JOIN [FlapKap].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
[2025-07-11 16:33:58 INF] Executed DbCommand (3ms) [Parameters=[@__model_Id_0='1', @__model_UserName_1='TestUpdated' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[MyUsers] AS [m]
        WHERE [m].[Id] <> @__model_Id_0 AND [m].[UserName] = @__model_UserName_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 16:33:58 INF] Executed DbCommand (3ms) [Parameters=[@__model_Id_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[Id] = @__model_Id_0
[2025-07-11 16:33:58 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='TESTUPDATED' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='TESTBUYER@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 16:33:58 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 16:33:58 INF] Executed DbCommand (5ms) [Parameters=[@p23='1', @p0='0', @p1=NULL (DbType = Int32), @p2='2025-07-11T14:44:54.3066667', @p3='f97f7977-483f-4cbb-8497-24f9ba1094d5' (Size = 4000), @p24='bf45340a-0596-4700-a418-aed84f4a3fe2' (Size = 4000), @p4=NULL (DbType = DateTime2), @p5='239.00000000000000000000' (Nullable = true) (Precision = 30) (Scale = 20), @p6='TestBuyer@flapkap.com' (Size = 256), @p7='True', @p8='True', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='2025-07-11T16:33:58.1473633+03:00' (Nullable = true), @p13='1' (Nullable = true), @p14=NULL (Size = 4000), @p15='TESTBUYER@FLAPKAP.COM' (Size = 256), @p16='TESTUPDATED' (Size = 256), @p17='AQAAAAIAAYagAAAAEEjpaZ5YDkd46/Xy0Vq0f/i2ilMPWZdH2ct7JaZZmEHMpwIfuaW9zkng8aqBodYq5A==' (Size = 4000), @p18=NULL (Size = 4000), @p19='True', @p20='P5H6ORESFL5GJSHEZUB2NBSM2ZOAS6C7' (Size = 4000), @p21='False', @p22='TestUpdated' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [FlapKap].[MyUsers] SET [AccessFailedCount] = @p0, [AddUserId] = @p1, [AddedDate] = @p2, [ConcurrencyStamp] = @p3, [DeletionDate] = @p4, [Deposit] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [IsDeleted] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedDate] = @p12, [ModifyUserId] = @p13, [Name] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='1', @__p_1='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [FlapKap].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT [r].[Name]
FROM [FlapKap].[UserRoles] AS [u]
INNER JOIN [FlapKap].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='BUYER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='1', @__p_1='2'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [FlapKap].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='BUYER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='TESTUPDATED' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='TESTBUYER@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 16:33:58 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 16:33:58 INF] Executed DbCommand (5ms) [Parameters=[@p23='1', @p0='0', @p1=NULL (DbType = Int32), @p2='2025-07-11T14:44:54.3066667', @p3='78edd805-4b64-4228-97d0-a9499ed137f8' (Size = 4000), @p24='f97f7977-483f-4cbb-8497-24f9ba1094d5' (Size = 4000), @p4=NULL (DbType = DateTime2), @p5='239.00000000000000000000' (Nullable = true) (Precision = 30) (Scale = 20), @p6='TestBuyer@flapkap.com' (Size = 256), @p7='True', @p8='True', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='2025-07-11T16:33:58.1473633+03:00' (Nullable = true), @p13='1' (Nullable = true), @p14=NULL (Size = 4000), @p15='TESTBUYER@FLAPKAP.COM' (Size = 256), @p16='TESTUPDATED' (Size = 256), @p17='AQAAAAIAAYagAAAAEEjpaZ5YDkd46/Xy0Vq0f/i2ilMPWZdH2ct7JaZZmEHMpwIfuaW9zkng8aqBodYq5A==' (Size = 4000), @p18=NULL (Size = 4000), @p19='True', @p20='P5H6ORESFL5GJSHEZUB2NBSM2ZOAS6C7' (Size = 4000), @p21='False', @p22='TestUpdated' (Size = 256), @p25='2', @p26='1'], CommandType='"Text"', CommandTimeout='60']
SET NOCOUNT ON;
UPDATE [FlapKap].[MyUsers] SET [AccessFailedCount] = @p0, [AddUserId] = @p1, [AddedDate] = @p2, [ConcurrencyStamp] = @p3, [DeletionDate] = @p4, [Deposit] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [IsDeleted] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedDate] = @p12, [ModifyUserId] = @p13, [Name] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
DELETE FROM [FlapKap].[UserRoles]
OUTPUT 1
WHERE [RoleId] = @p25 AND [UserId] = @p26;
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='1', @__p_1='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [FlapKap].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='TESTUPDATED' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='TESTBUYER@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 16:33:58 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 16:33:58 INF] Executed DbCommand (1ms) [Parameters=[@p23='1', @p0='0', @p1=NULL (DbType = Int32), @p2='2025-07-11T14:44:54.3066667', @p3='abf5becf-0c06-4aea-8544-fed89bd11c12' (Size = 4000), @p24='78edd805-4b64-4228-97d0-a9499ed137f8' (Size = 4000), @p4=NULL (DbType = DateTime2), @p5='239.00000000000000000000' (Nullable = true) (Precision = 30) (Scale = 20), @p6='TestBuyer@flapkap.com' (Size = 256), @p7='True', @p8='True', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='2025-07-11T16:33:58.1473633+03:00' (Nullable = true), @p13='1' (Nullable = true), @p14=NULL (Size = 4000), @p15='TESTBUYER@FLAPKAP.COM' (Size = 256), @p16='TESTUPDATED' (Size = 256), @p17='AQAAAAIAAYagAAAAEEjpaZ5YDkd46/Xy0Vq0f/i2ilMPWZdH2ct7JaZZmEHMpwIfuaW9zkng8aqBodYq5A==' (Size = 4000), @p18=NULL (Size = 4000), @p19='True', @p20='P5H6ORESFL5GJSHEZUB2NBSM2ZOAS6C7' (Size = 4000), @p21='False', @p22='TestUpdated' (Size = 256), @p25='1', @p26='1'], CommandType='"Text"', CommandTimeout='60']
SET NOCOUNT ON;
UPDATE [FlapKap].[MyUsers] SET [AccessFailedCount] = @p0, [AddUserId] = @p1, [AddedDate] = @p2, [ConcurrencyStamp] = @p3, [DeletionDate] = @p4, [Deposit] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [IsDeleted] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedDate] = @p12, [ModifyUserId] = @p13, [Name] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
INSERT INTO [FlapKap].[UserRoles] ([RoleId], [UserId])
VALUES (@p25, @p26);
[2025-07-11 16:33:58 INF] user 1 updated
[2025-07-11 19:29:48 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-07-11 19:29:49 INF] Executed DbCommand (166ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [FlapKapDB];
[2025-07-11 19:29:49 INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [FlapKapDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2025-07-11 19:29:49 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 19:29:49 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2025-07-11 19:29:49 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT 1
[2025-07-11 19:29:49 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2025-07-11 19:29:49 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2025-07-11 19:29:49 INF] Applying migration '20250710130144_InitialMigration'.
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SCHEMA_ID(N'FlapKap') IS NULL EXEC(N'CREATE SCHEMA [FlapKap];');
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[MyUsers] (
    [Id] int NOT NULL IDENTITY,
    [AddedDate] datetime2 NOT NULL DEFAULT (getdate()),
    [ModifiedDate] datetime2 NULL,
    [AddUserId] int NULL,
    [ModifyUserId] int NULL,
    [Deposit] decimal(30,20) NULL,
    [IsActive] bit NOT NULL,
    [Name] nvarchar(max) NULL,
    [IsDeleted] bit NOT NULL,
    [DeletionDate] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_MyUsers] PRIMARY KEY ([Id])
);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[Roles] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([Id])
);
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[Products] (
    [Id] int NOT NULL IDENTITY,
    [SellerId] int NOT NULL,
    [Cost] decimal(30,20) NOT NULL,
    [Name] nvarchar(max) NULL,
    [Quantity] int NOT NULL,
    [AddedDate] datetime2 NOT NULL DEFAULT (getdate()),
    [ModifiedDate] datetime2 NULL,
    [AddUserId] int NULL,
    [ModifyUserId] int NULL,
    [IsDeleted] bit NOT NULL,
    [DeletionDate] datetime2 NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Products_MyUsers_SellerId] FOREIGN KEY ([SellerId]) REFERENCES [FlapKap].[MyUsers] ([Id]) ON DELETE NO ACTION
);
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[UserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_UserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_UserClaims_MyUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [FlapKap].[MyUsers] ([Id]) ON DELETE NO ACTION
);
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[UserLogIns] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_UserLogIns] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_UserLogIns_MyUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [FlapKap].[MyUsers] ([Id]) ON DELETE NO ACTION
);
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[UserTokens] (
    [UserId] int NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_UserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_UserTokens_MyUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [FlapKap].[MyUsers] ([Id]) ON DELETE NO ACTION
);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[RoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] int NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_RoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RoleClaims_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [FlapKap].[Roles] ([Id]) ON DELETE NO ACTION
);
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE TABLE [FlapKap].[UserRoles] (
    [UserId] int NOT NULL,
    [RoleId] int NOT NULL,
    [UserId1] int NULL,
    [RoleId1] int NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_MyUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [FlapKap].[MyUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_MyUsers_UserId1] FOREIGN KEY ([UserId1]) REFERENCES [FlapKap].[MyUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [FlapKap].[Roles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_UserRoles_Roles_RoleId1] FOREIGN KEY ([RoleId1]) REFERENCES [FlapKap].[Roles] ([Id]) ON DELETE NO ACTION
);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [EmailIndex] ON [FlapKap].[MyUsers] ([NormalizedEmail]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE UNIQUE INDEX [UserNameIndex] ON [FlapKap].[MyUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_Products_SellerId] ON [FlapKap].[Products] ([SellerId]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_RoleClaims_RoleId] ON [FlapKap].[RoleClaims] ([RoleId]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE UNIQUE INDEX [RoleNameIndex] ON [FlapKap].[Roles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_UserClaims_UserId] ON [FlapKap].[UserClaims] ([UserId]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_UserLogIns_UserId] ON [FlapKap].[UserLogIns] ([UserId]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_UserRoles_RoleId] ON [FlapKap].[UserRoles] ([RoleId]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_UserRoles_RoleId1] ON [FlapKap].[UserRoles] ([RoleId1]);
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE INDEX [IX_UserRoles_UserId1] ON [FlapKap].[UserRoles] ([UserId1]);
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250710130144_InitialMigration', N'8.0.13');
[2025-07-11 19:29:49 INF] Applying migration '20250710150028_FixReoles'.
[2025-07-11 19:29:49 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
ALTER TABLE [FlapKap].[UserRoles] DROP CONSTRAINT [FK_UserRoles_MyUsers_UserId1];
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
ALTER TABLE [FlapKap].[UserRoles] DROP CONSTRAINT [FK_UserRoles_Roles_RoleId1];
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP INDEX [IX_UserRoles_RoleId1] ON [FlapKap].[UserRoles];
[2025-07-11 19:29:49 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP INDEX [IX_UserRoles_UserId1] ON [FlapKap].[UserRoles];
[2025-07-11 19:29:49 INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[FlapKap].[UserRoles]') AND [c].[name] = N'RoleId1');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [FlapKap].[UserRoles] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [FlapKap].[UserRoles] DROP COLUMN [RoleId1];
[2025-07-11 19:29:49 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[FlapKap].[UserRoles]') AND [c].[name] = N'UserId1');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [FlapKap].[UserRoles] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [FlapKap].[UserRoles] DROP COLUMN [UserId1];
[2025-07-11 19:29:49 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250710150028_FixReoles', N'8.0.13');
[2025-07-11 19:29:50 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 19:29:50 INF] Executed DbCommand (19ms) [Parameters=[@p0=NULL (Size = 4000), @p1='Seller' (Size = 256), @p2='Seller' (Size = 256), @p3=NULL (Size = 4000), @p4='Buyer' (Size = 256), @p5='Buyer' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [FlapKap].[Roles] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1)) AS i ([ConcurrencyStamp], [Name], [NormalizedName], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ConcurrencyStamp], [Name], [NormalizedName])
VALUES (i.[ConcurrencyStamp], i.[Name], i.[NormalizedName])
OUTPUT INSERTED.[Id], i._Position;
[2025-07-11 19:29:50 WRN] The WebRootPath was not found: C:\Users\Leilla\Downloads\FlapKap Task - Elsayed Leilla\FlapKap Task - Elsayed Leilla\FlapKap Task\FlapKap.API\wwwroot. Static files may be unavailable.
[2025-07-11 19:29:50 INF] Application started. Press Ctrl+C to shut down.
[2025-07-11 19:29:50 INF] Hosting environment: Development
[2025-07-11 19:29:50 INF] Content root path: C:\Users\Leilla\Downloads\FlapKap Task - Elsayed Leilla\FlapKap Task - Elsayed Leilla\FlapKap Task\FlapKap.API
[2025-07-11 19:30:40 INF] Executed DbCommand (9ms) [Parameters=[@__model_UserName_0='TestSeller2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[MyUsers] AS [m]
        WHERE [m].[UserName] = @__model_UserName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 19:30:40 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='TESTSELLER2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 19:30:40 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='TESTSELLER2@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 19:30:40 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 19:30:40 INF] Executed DbCommand (3ms) [Parameters=[@p0='0', @p1=NULL (DbType = Int32), @p2='b5a431e9-d35a-4c1b-b731-26414fbc49b4' (Size = 4000), @p3=NULL (DbType = DateTime2), @p4=NULL (Precision = 30) (Scale = 20) (DbType = Decimal), @p5='TestSeller2@flapkap.com' (Size = 256), @p6='True', @p7='True', @p8='False', @p9='True', @p10=NULL (DbType = DateTimeOffset), @p11=NULL (DbType = DateTime2), @p12=NULL (DbType = Int32), @p13=NULL (Size = 4000), @p14='TESTSELLER2@FLAPKAP.COM' (Size = 256), @p15='TESTSELLER2' (Size = 256), @p16='AQAAAAIAAYagAAAAEIlK7mq96ZjV2aONe9LHaonZv5xQ5AwvbxeZrdMfH9bBipRCGMNABwWFPY81mdyD2w==' (Size = 4000), @p17=NULL (Size = 4000), @p18='True', @p19='6DEN5TXKONSSQDN54BHA4YRAMTG5PTPE' (Size = 4000), @p20='False', @p21='TestSeller2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [FlapKap].[MyUsers] ([AccessFailedCount], [AddUserId], [ConcurrencyStamp], [DeletionDate], [Deposit], [Email], [EmailConfirmed], [IsActive], [IsDeleted], [LockoutEnabled], [LockoutEnd], [ModifiedDate], [ModifyUserId], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[Id], INSERTED.[AddedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
[2025-07-11 19:30:40 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 19:30:40 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='1', @__p_1='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [FlapKap].[UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
[2025-07-11 19:30:40 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='SELLER' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [FlapKap].[Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
[2025-07-11 19:30:40 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='TESTSELLER2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedUserName] = @__normalizedUserName_0
[2025-07-11 19:30:40 INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='TESTSELLER2@FLAPKAP.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(2) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[NormalizedEmail] = @__normalizedEmail_0
[2025-07-11 19:30:40 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 19:30:40 INF] Executed DbCommand (9ms) [Parameters=[@p23='1', @p0='0', @p1=NULL (DbType = Int32), @p2='2025-07-11T19:30:40.3233333', @p3='b018e2d7-0257-445d-bd94-346e52c51350' (Size = 4000), @p24='b5a431e9-d35a-4c1b-b731-26414fbc49b4' (Size = 4000), @p4=NULL (DbType = DateTime2), @p5=NULL (Precision = 30) (Scale = 20) (DbType = Decimal), @p6='TestSeller2@flapkap.com' (Size = 256), @p7='True', @p8='True', @p9='False', @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12=NULL (DbType = DateTime2), @p13=NULL (DbType = Int32), @p14=NULL (Size = 4000), @p15='TESTSELLER2@FLAPKAP.COM' (Size = 256), @p16='TESTSELLER2' (Size = 256), @p17='AQAAAAIAAYagAAAAEIlK7mq96ZjV2aONe9LHaonZv5xQ5AwvbxeZrdMfH9bBipRCGMNABwWFPY81mdyD2w==' (Size = 4000), @p18=NULL (Size = 4000), @p19='True', @p20='6DEN5TXKONSSQDN54BHA4YRAMTG5PTPE' (Size = 4000), @p21='False', @p22='TestSeller2' (Size = 256), @p25='1', @p26='1'], CommandType='"Text"', CommandTimeout='60']
SET NOCOUNT ON;
UPDATE [FlapKap].[MyUsers] SET [AccessFailedCount] = @p0, [AddUserId] = @p1, [AddedDate] = @p2, [ConcurrencyStamp] = @p3, [DeletionDate] = @p4, [Deposit] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [IsDeleted] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedDate] = @p12, [ModifyUserId] = @p13, [Name] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
INSERT INTO [FlapKap].[UserRoles] ([RoleId], [UserId])
VALUES (@p25, @p26);
[2025-07-11 19:30:40 INF] user 1 added
[2025-07-11 19:30:48 INF] Executed DbCommand (5ms) [Parameters=[@__model_UserName_0='TestSeller2' (Size = 256)], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[IsDeleted] = CAST(0 AS bit) AND [m].[UserName] = @__model_UserName_0
[2025-07-11 19:30:48 INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT [r].[Name]
FROM [FlapKap].[UserRoles] AS [u]
INNER JOIN [FlapKap].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
[2025-07-11 19:30:48 INF] User TestSeller2 Logged In Successfully
[2025-07-11 19:30:54 INF] Executed DbCommand (1ms) [Parameters=[@__p_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT TOP(1) [m].[Id], [m].[AccessFailedCount], [m].[AddUserId], [m].[AddedDate], [m].[ConcurrencyStamp], [m].[DeletionDate], [m].[Deposit], [m].[Email], [m].[EmailConfirmed], [m].[IsActive], [m].[IsDeleted], [m].[LockoutEnabled], [m].[LockoutEnd], [m].[ModifiedDate], [m].[ModifyUserId], [m].[Name], [m].[NormalizedEmail], [m].[NormalizedUserName], [m].[PasswordHash], [m].[PhoneNumber], [m].[PhoneNumberConfirmed], [m].[SecurityStamp], [m].[TwoFactorEnabled], [m].[UserName]
FROM [FlapKap].[MyUsers] AS [m]
WHERE [m].[Id] = @__p_0
[2025-07-11 19:30:54 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='60']
SELECT [r].[Name]
FROM [FlapKap].[UserRoles] AS [u]
INNER JOIN [FlapKap].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
[2025-07-11 19:30:54 INF] Executed DbCommand (2ms) [Parameters=[@__model_Name_0='Test Product 2' (Size = 4000), @__requestInfo_UserId_1='1'], CommandType='"Text"', CommandTimeout='60']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [FlapKap].[Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS bit) AND [p].[Name] = @__model_Name_0 AND [p].[SellerId] = @__requestInfo_UserId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2025-07-11 19:30:54 WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
[2025-07-11 19:30:54 INF] Executed DbCommand (2ms) [Parameters=[@p0='1' (Nullable = true), @p1='2025-07-11T16:30:54.1268644Z', @p2='12.5' (Precision = 30) (Scale = 20), @p3=NULL (DbType = DateTime2), @p4='False', @p5=NULL (DbType = DateTime2), @p6=NULL (DbType = Int32), @p7='Test Product 2' (Size = 4000), @p8='26', @p9='1'], CommandType='"Text"', CommandTimeout='60']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [FlapKap].[Products] ([AddUserId], [AddedDate], [Cost], [DeletionDate], [IsDeleted], [ModifiedDate], [ModifyUserId], [Name], [Quantity], [SellerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
[2025-07-11 19:30:54 INF] Seller 1 add a product
